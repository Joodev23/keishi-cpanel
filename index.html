<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Lihat Admin JSONBin</title>
<style>
  body { background: #111; color: #fff; font-family: sans-serif; padding: 20px; }
  h1 { color: #00e6ff; }
  table { width: 100%; border-collapse: collapse; margin-top: 20px; }
  th, td { border: 1px solid #555; padding: 8px; text-align: left; }
  th { background: #00e6ff; }
  button { margin: 5px 0; padding: 8px 12px; border: none; background: #00e6ff; color: #000; font-weight: bold; cursor: pointer; }
</style>
</head>
<body>

<h1>Data Admin dari JSONBin</h1>
<button onclick="loadAdmins()">Lihat Admin</button>

<table id="adminTable">
  <thead>
    <tr>
      <th>Username</th>
      <th>Password</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
async function loadAdmins() {
  try {
    const res = await fetch("/api/admin"); // panggil API backend di Vercel
    const data = await res.json();
    const users = data.record.users || [];
    const admins = users.filter(u => u.role === "owner");

    const tbody = document.querySelector("#adminTable tbody");
    tbody.innerHTML = "";
    admins.forEach(admin => {
      tbody.innerHTML += `<tr>
        <td>${admin.username}</td>
        <td>${admin.password}</td>
        <td>${admin.role}</td>
      </tr>`;
    });
  } catch (err) {
    alert("Gagal mengambil data: " + err);
  }
}
</script>

</body>
</html>
